@page "/register"
@attribute [AllowAnonymous]

<MudPaper class="register-container">
    <MudStack Row Justify="Justify.Center" AlignItems="AlignItems.Center" Style="width:100%; max-width: 1200px;">
        @if (!Submitting)
        {
            <MudItem md="6" Class="branding-section hidden-sm-and-down">
                <MudIcon Icon="@Icons.Material.Filled.Security" Size="Size.Large" Style="font-size: 6rem; color: var(--mud-palette-primary);" />
                <MudText Typo="Typo.h3" GutterBottom="true" Class="mt-4">SecureVault</MudText>
                <MudText Typo="Typo.h6" Style="opacity: 0.8;">Güvenli bir başlangıç yapın.</MudText>
            </MudItem>

            <MudItem xs="12" sm="10" md="6">
                <MudPaper Elevation="5" Class="register-form-paper">

                    <MudText Typo="Typo.h4" GutterBottom="true" Align="Align.Center">Hesap Oluştur</MudText>
                    <MudText Typo="Typo.body2" Color="Color.Inherit" Align="Align.Center" Class="mb-6">Topluluğumuza katılmak için bilgilerinizi girin.</MudText>

                    <MudForm Model="registerModel" @ref="form" ValidationDelay="0">
                        <MudGrid>
                            <MudItem xs="12" sm="6">
                                <MudTextField @bind-Value="registerModel.UserInfo.Name" Label="Ad" Variant="Variant.Outlined" Margin="Margin.Dense" For="@(() => registerModel.UserInfo.Name)" />
                            </MudItem>
                            <MudItem xs="12" sm="6">
                                <MudTextField @bind-Value="registerModel.UserInfo.Surname" Label="Soyad" Variant="Variant.Outlined" Margin="Margin.Dense" For="@(() => registerModel.UserInfo.Surname)" />
                            </MudItem>
                        </MudGrid>

                        <MudTextField @bind-Value="registerModel.Email" Label="E-posta" Variant="Variant.Outlined" Margin="Margin.Dense" InputType="InputType.Email" For="@(() => registerModel.Email)" Class="mt-3" />

                        <MudTextField @bind-Value="registerModel.UserInfo.PhoneNumber" Label="Telefon Numarası" Variant="Variant.Outlined" Margin="Margin.Dense" For="@(() => registerModel.UserInfo.PhoneNumber)" Class="mt-3" />

                        <PasswordField Label="Şifre" @bind-Password="Password" />
                        <PasswordField Label="Şifre Tekrar" @bind-Password="ConfirmPassword" />

                        <MudButton ButtonType="ButtonType.Submit" Variant="Variant.Filled" Color="Color.Primary" OnClick="Submit" Disabled="@Submitting" StartIcon="@Icons.Material.Filled.PersonAdd" Size="Size.Large" FullWidth="true" Class="mt-6">
                            @if (!Submitting)
                            {
                                <MudText>Kayıt Ol</MudText>
                            }
                            else
                            {
                                <MudProgressCircular Class="ms-n1" Size="Size.Small" Indeterminate="true" />
                                <MudText Class="ms-2">Kaydediliyor...</MudText>
                            }
                        </MudButton>
                    </MudForm>

                    <MudDivider Class="my-6" />
                    <MudText Align="Align.Center">
                        Zaten bir hesabınız var mı? <MudLink Href="/login">Giriş Yapın</MudLink>
                    </MudText>

                </MudPaper>
            </MudItem>
        }
        else
        {
            <Loading LoadingText="Kayıt işlemi yapılıyor..." />
        }
    </MudStack>
</MudPaper>

